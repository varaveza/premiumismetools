RewriteEngine On

# Handle shortlink redirects (format: domain.com/randomstring)
RewriteRule ^([A-Za-z0-9]{6})$ /shortlink/redirect.php?slug=$1 [L,QSA]

# Handle stats pages (format: domain.com/randomstring/stats)
RewriteRule ^([A-Za-z0-9]{6})/stats$ /shortlink/stats.php?slug=$1 [L,QSA]

# Default routing
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule ^(.*)$ /index.php [L,QSA]
